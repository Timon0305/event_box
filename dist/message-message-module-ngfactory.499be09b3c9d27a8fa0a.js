(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"0f1L":function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),u=function(){return function(){}}(),s=t("pMnS"),o=t("wXHb"),i=t("Ip0R"),a=t("szyW"),r=t("wd/R"),c=function(){function n(){}return n.prototype.transform=function(n){for(var l=[],t=1;t<arguments.length;t++)l[t-1]=arguments[t];var e=r(n);return e.isSame(r(),"day")?e.format("hh:mm a"):e.format(l[0]?"MMM DD, hh:mm a":"MMM DD")},n}(),p=t("AytR"),g=t("pbW5"),d=t("0kXZ"),b=t("HcwC"),m=t("4ik+"),h=t("q3Kh"),f=t("ds6q"),x=t("IW2O"),M=t("ewFJ"),C=t("IF+5"),v=function(){function n(n,l,t,u,s){this.commonService=n,this.document=l,this.checkRole=t,this.messageApiService=u,this.sessionService=s,this.s3BaseUrl=p.a.s3BaseUrl,this.destroyed$=new f.Subject,this.messageType=b.a.MESSAGE_TYPE,this.scrollToDown=!0,this.updateListPosition=new e.q}return n.prototype.ngOnInit=function(){var n=this;this.isAdmin=this.checkRole.isAdmin(),0===this.index&&(this.messageApiService.setActiveChatId(this.message),this.message.unreadCount=0),this.messageApiService.getActiveChat().pipe(Object(x.takeUntil)(this.destroyed$),Object(m.filter)((function(n){return!!n})),Object(h.map)((function(n){return n}))).subscribe((function(l){n.activeChatId=l._id})),this.isVendor=this.sessionService.getRole()===b.a.Role.VENDOR,this.subscribeRecentMessage()},n.prototype.subscribeRecentMessage=function(){var n=this;this.messageApiService.getRecentMessage().pipe(Object(x.takeUntil)(this.destroyed$),Object(m.filter)((function(n){return!!n})),Object(h.map)((function(n){return n}))).subscribe((function(l){n.message._id===l.thread&&(n.message.recentMessage.message=l.message,n.message.recentMessage.createdAt=l.createdAt,n.message.recentMessage.type=l.type,n.message.recentMessage.image=l.image,n.updateListPosition.emit(n.message._id))}))},n.prototype.openChat=function(){if(this.scrollToDown&&this.commonService.getResponsive(b.a.RESPONSIVE_WINDOW_MIN_WIDTH.INNERWIDTH)){this.scrollToDown=!1;var n=this.document.getElementById("msg-detail");setTimeout((function(){return n.scrollTop=n.scrollHeight}))}this.message._id!==this.activeChatId&&(this.messageApiService.setActiveChatId(this.message),this.message.unreadCount=0)},n.prototype.ngOnDestroy=function(){this.destroyed$.next(),this.destroyed$.complete()},n}(),O=e.xb({encapsulation:0,styles:[['.list-row[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-align:start;align-items:flex-start;padding:18px 15px;position:relative;border-left:3px solid transparent;cursor:pointer}.list-row[_ngcontent-%COMP%]::after{content:"";position:absolute;right:0;bottom:0;width:calc(100% - 66px);height:1px;background:#dce1ef}.list-row[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;border-radius:50%;overflow:hidden;-webkit-box-flex:0;flex:none}.list-row[_ngcontent-%COMP%]   .message-title[_ngcontent-%COMP%]{width:calc(100% - 115px);padding:0 10px;opacity:.6}.list-row[_ngcontent-%COMP%]   .message-title.admin-message-title[_ngcontent-%COMP%]{width:calc(100% - 142px)}.list-row[_ngcontent-%COMP%]   .message-title[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:3px 0}.list-row[_ngcontent-%COMP%]   .message-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;opacity:.8;color:#212223;margin:0}.list-row[_ngcontent-%COMP%]   .message-title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:18px}.list-row.unread[_ngcontent-%COMP%]   .message-title[_ngcontent-%COMP%]{opacity:1}.list-row.active[_ngcontent-%COMP%]{background:#fafafa;border-color:#5067eb}.list-row.active[_ngcontent-%COMP%]   .message-title[_ngcontent-%COMP%]{opacity:1}.list-row.active[_ngcontent-%COMP%]::before{content:"";position:absolute;right:0;top:-1px;width:calc(100% - 66px);height:1px;background:#fafafa}.list-row.active[_ngcontent-%COMP%]:after{background:#fafafa}.list-row[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]{width:75px;-webkit-box-flex:0;flex:none;text-align:right;padding-top:5px}.list-row[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:10px;color:#909191}.list-row[_ngcontent-%COMP%]   .message-time[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{height:16px;min-width:16px;width:auto;border-radius:8px;padding:0 3px;background:#ff6516;font-size:10px;color:#fff;font-weight:600;display:inline-block;text-align:center;line-height:16px}@media screen and (max-width:576px){.list-row[_ngcontent-%COMP%]:after{width:100%}.list-row.active[_ngcontent-%COMP%]::before{top:0}}']],data:{}});function _(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,6,"div",[["class","image-overlap-box"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,2,"span",[["class","user-avatar"]],null,null,null,null,null)),(n()(),e.zb(3,0,null,null,1,"img",[["alt","user"],["appNoImage",""],["class","img-cover"]],[[8,"src",4]],[[null,"error"]],(function(n,l,t){var u=!0;return"error"===l&&(u=!1!==e.Lb(n,4).onError()&&u),u}),null,null)),e.yb(4,4210688,null,0,o.a,[e.o],null,null),(n()(),e.zb(5,0,null,null,2,"span",[["class","user-avatar"]],null,null,null,null,null)),(n()(),e.zb(6,0,null,null,1,"img",[["alt","user"],["appNoImage",""],["class","img-cover"]],[[8,"src",4]],[[null,"error"]],(function(n,l,t){var u=!0;return"error"===l&&(u=!1!==e.Lb(n,7).onError()&&u),u}),null,null)),e.yb(7,4210688,null,0,o.a,[e.o],null,null)],null,(function(n,l){var t=l.component;n(l,3,0,e.Db(2,"",t.s3BaseUrl,"",null==t.message?null:null==t.message.planners?null:t.message.planners.image,"")),n(l,6,0,e.Db(2,"",t.s3BaseUrl,"",null==t.message?null:null==t.message.vendors?null:t.message.vendors.logo,""))}))}function P(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,2,"span",[["class","user-avatar"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,1,"img",[["alt","user"],["appNoImage",""],["class","img-cover"]],[[8,"src",4]],[[null,"error"]],(function(n,l,t){var u=!0;return"error"===l&&(u=!1!==e.Lb(n,2).onError()&&u),u}),null,null)),e.yb(2,4210688,null,0,o.a,[e.o],null,null)],null,(function(n,l){var t=l.component;n(l,1,0,e.Db(2,"",t.s3BaseUrl,"",null==t.message?null:null==t.message.vendors?null:t.message.vendors.logo,""))}))}function y(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,2,"span",[["class","user-avatar"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,1,"img",[["alt","user"],["appNoImage",""],["class","img-cover"]],[[8,"src",4]],[[null,"error"]],(function(n,l,t){var u=!0;return"error"===l&&(u=!1!==e.Lb(n,2).onError()&&u),u}),null,null)),e.yb(2,4210688,null,0,o.a,[e.o],null,null)],null,(function(n,l){var t=l.component;n(l,1,0,e.Db(2,"",t.s3BaseUrl,"",null==t.message?null:null==t.message.planners?null:t.message.planners.image,""))}))}function w(n){return e.Vb(0,[(n()(),e.pb(16777216,null,null,1,null,P)),e.yb(1,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(16777216,null,null,1,null,y)),e.yb(3,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(0,null,null,0))],(function(n,l){var t=l.component;n(l,1,0,!t.isVendor),n(l,3,0,t.isVendor)}),null)}function z(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,6,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,5,"div",[["class","admin-message-title-row"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,2,"h3",[["class","text-truncate"]],null,null,null,null,null)),(n()(),e.Tb(3,null,["",""])),e.Pb(4,1),(n()(),e.zb(5,0,null,null,1,"h3",[["class","text-truncate"]],null,null,null,null,null)),(n()(),e.Tb(6,null,["",""]))],null,(function(n,l){var t=l.component,u=e.Ub(l,3,0,n(l,4,0,e.Lb(l.parent,0),null==t.message?null:t.message.planners));n(l,3,0,u),n(l,6,0,null==t.message?null:null==t.message.vendors?null:t.message.vendors.name)}))}function k(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"h3",[["class","text-truncate"]],null,null,null,null,null)),(n()(),e.Tb(1,null,["",""]))],null,(function(n,l){var t=l.component;n(l,1,0,null==t.message?null:null==t.message.vendors?null:t.message.vendors.name)}))}function I(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,2,"h3",[["class","text-truncate"]],null,null,null,null,null)),(n()(),e.Tb(1,null,["",""])),e.Pb(2,1)],null,(function(n,l){var t=l.component,u=e.Ub(l,1,0,n(l,2,0,e.Lb(l.parent.parent,0),null==t.message?null:t.message.planners));n(l,1,0,u)}))}function L(n){return e.Vb(0,[(n()(),e.pb(16777216,null,null,1,null,k)),e.yb(1,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.pb(0,[["plannerName",2]],null,0,null,I))],(function(n,l){n(l,1,0,!l.component.isVendor,e.Lb(l,2))}),null)}function $(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,3,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,2,"p",[["class","text-truncate"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,0,"img",[["alt","attachment"],["src","../../../../assets/images/attachment.svg"]],null,null,null,null,null)),(n()(),e.Tb(3,null,[" "," "]))],null,(function(n,l){var t=l.component;n(l,3,0,null==t.message?null:null==t.message.recentMessage?null:null==t.message.recentMessage.image?null:t.message.recentMessage.image.name)}))}function E(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"p",[["class","text-truncate"]],null,null,null,null,null)),(n()(),e.Tb(1,null,[" "," "]))],null,(function(n,l){var t=l.component;n(l,1,0,null==t.message?null:null==t.message.recentMessage?null:t.message.recentMessage.message)}))}function S(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Tb(1,null,["",""]))],null,(function(n,l){n(l,1,0,l.component.message.unreadCount)}))}function T(n){return e.Vb(0,[e.Nb(0,a.a,[]),e.Nb(0,c,[]),(n()(),e.zb(2,0,null,null,22,"div",[["class","list-row "]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.openChat()&&e),e}),null,null)),e.Qb(512,null,i.H,i.I,[e.w,e.x,e.o,e.K]),e.yb(4,278528,null,0,i.m,[i.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(5,{unread:0,active:1}),(n()(),e.pb(16777216,null,null,1,null,_)),e.yb(7,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.pb(0,[["nonAdminListHead",2]],null,0,null,w)),(n()(),e.zb(9,0,null,null,9,"div",[["class","message-title"]],null,null,null,null,null)),e.Qb(512,null,i.H,i.I,[e.w,e.x,e.o,e.K]),e.yb(11,278528,null,0,i.m,[i.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(12,{"admin-message-title":0}),(n()(),e.pb(16777216,null,null,1,null,z)),e.yb(14,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.pb(0,[["nonAdminMessageTitle",2]],null,0,null,L)),(n()(),e.pb(16777216,null,null,1,null,$)),e.yb(17,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.pb(0,[["nonMediaRecentMessage",2]],null,0,null,E)),(n()(),e.zb(19,0,null,null,5,"div",[["class","message-time"]],null,null,null,null,null)),(n()(),e.zb(20,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),e.Tb(21,null,["",""])),e.Pb(22,1),(n()(),e.pb(16777216,null,null,1,null,S)),e.yb(24,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component,u=n(l,5,0,t.message.unreadCount>0&&!t.isAdmin,t.activeChatId===t.message._id);n(l,4,0,"list-row ",u),n(l,7,0,t.isAdmin,e.Lb(l,8));var s=n(l,12,0,t.isAdmin);n(l,11,0,"message-title",s),n(l,14,0,t.isAdmin,e.Lb(l,15)),n(l,17,0,(null==t.message?null:null==t.message.recentMessage?null:t.message.recentMessage.type)===t.messageType.MEDIA,e.Lb(l,18)),n(l,24,0,t.message.unreadCount)}),(function(n,l){var t=l.component,u=e.Ub(l,21,0,n(l,22,0,e.Lb(l,1),null==t.message?null:null==t.message.recentMessage?null:t.message.recentMessage.createdAt));n(l,21,0,u)}))}var D=t("gIcY"),A=t("borg"),V=t("6uCJ"),R=t("mrSG"),N=t("dMDw"),j=t("B/hR"),q=t("ny24"),B=function(){function n(){this.trackByFn=M.I,this.loading=!1,this.messageEvent=new e.q,this.searchField=new D.g(""),this.message=!1,this.messageList=[],this.fetchData=new e.q,this.isListEmpty=new e.q,this.destroyed$=new f.Subject}return Object.defineProperty(n.prototype,"setMessageListData",{set:function(n){var l=this;n&&(this.pageData={totalPages:n.totalPages,page:n.page},this.messageList=this.fromSearch?n.docs:this.messageList.concat(n.docs),this.options={root:this.listContainer.nativeElement},setTimeout((function(){l.isListEmpty.emit(0===l.messageList.length&&!l.searchField.value)})))},enumerable:!0,configurable:!0}),n.prototype.ngOnInit=function(){var n=this;this.searchField.valueChanges.pipe(Object(N.debounceTime)(b.a.SEARCH_DEBOUNCE_TIME),Object(j.distinctUntilChanged)(),Object(q.a)(this.destroyed$)).subscribe((function(l){n.fetchData.emit(R.__assign({},l?{filter:l,page:1}:{page:1},{fromSearch:!0}))}))},n.prototype.scrolled=function(){this.pageData&&this.pageData.page&&this.pageData.totalPages>this.pageData.page&&this.fetchData.emit({page:this.pageData.page+1})},n.prototype.onMessage=function(){this.messageEvent.emit(!0)},n.prototype.updateListPosition=function(n){var l=this.getIndex(n);l>0&&(this.messageList=this.messageList.sort((function(n,l){return new Date(l.recentMessage.createdAt).getTime()-new Date(n.recentMessage.createdAt).getTime()})),this.getIndex(n)!==l&&this.listContainer.nativeElement.scroll(0,0))},n.prototype.getIndex=function(n){return this.messageList.findIndex((function(l){return l._id===n}))},n.prototype.ngOnDestroy=function(){this.destroyed$.next(),this.destroyed$.complete()},n}(),U=e.xb({encapsulation:0,styles:[[".message-user-list[_ngcontent-%COMP%]{width:360px;height:100%;border:1px solid #dce1ef;border-radius:4px}.message-user-list[_ngcontent-%COMP%]   .list-search[_ngcontent-%COMP%]{height:60px;border-bottom:1px solid #dce1ef;padding:0 15px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.message-user-list[_ngcontent-%COMP%]   .list-search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]{height:auto;width:100%;max-width:100%}.message-user-list[_ngcontent-%COMP%]   .list-search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{border:0}.message-user-list[_ngcontent-%COMP%]   .list-search[_ngcontent-%COMP%]   .search-form[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{height:42px;background:#f0f4ff;border-radius:4px;font-size:15px;padding-left:35px}.message-user-list[_ngcontent-%COMP%]   .list-data[_ngcontent-%COMP%]{height:calc(100% - 60px);overflow-y:auto}.message-user-list[_ngcontent-%COMP%]   .list-data[_ngcontent-%COMP%]   .no-result[_ngcontent-%COMP%]{width:55%;height:80%;font-size:16px}.message-user-list[_ngcontent-%COMP%]   .list-data[_ngcontent-%COMP%]   .no-result[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70%}@media screen and (max-width:1024px){.message-user-list[_ngcontent-%COMP%]{width:270px}}@media screen and (max-width:576px){.message-user-list[_ngcontent-%COMP%]{width:calc(100% + 30px);margin-left:-15px;border:0}.message-user-list[_ngcontent-%COMP%]   .list-search[_ngcontent-%COMP%]{height:74px}.message-user-list[_ngcontent-%COMP%]   .list-data[_ngcontent-%COMP%]{height:auto}}"]],data:{}});function W(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"app-message-list-item",[["class","infinite-scroll-list-row"]],null,[[null,"click"],[null,"updateListPosition"]],(function(n,l,t){var e=!0,u=n.component;return"click"===l&&(e=!1!==u.onMessage()&&e),"updateListPosition"===l&&(e=!1!==u.updateListPosition(t)&&e),e}),T,O)),e.yb(1,245760,null,0,v,[C.a,i.e,M.a,g.a,d.a],{message:[0,"message"],index:[1,"index"]},{updateListPosition:"updateListPosition"})],(function(n,l){n(l,1,0,l.context.$implicit,l.context.index)}),null)}function F(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,3,"div",[["class","no-result"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,0,"img",[["alt","No results"],["class","mt-5"],["src","assets/images/no-data.svg"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,1,"p",[["class","mt-3"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Sorry! No messages found :("]))],null,null)}function H(n){return e.Vb(0,[e.Rb(402653184,1,{listContainer:0}),(n()(),e.zb(1,0,null,null,21,"div",[["class","message-user-list"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,13,"div",[["class","list-search"]],null,null,null,null,null)),(n()(),e.zb(3,0,null,null,12,"form",[["class","search-form"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(n,l,t){var u=!0;return"submit"===l&&(u=!1!==e.Lb(n,5).onSubmit(t)&&u),"reset"===l&&(u=!1!==e.Lb(n,5).onReset()&&u),u}),null,null)),e.yb(4,16384,null,0,D.D,[],null,null),e.yb(5,4210688,null,0,D.s,[[8,null],[8,null]],null,null),e.Qb(2048,null,D.c,null,[D.s]),e.yb(7,16384,null,0,D.r,[[4,D.c]],null,null),(n()(),e.zb(8,0,null,null,7,"div",[["class","form-group"]],null,null,null,null,null)),(n()(),e.zb(9,0,null,null,5,"input",[["class","form-control"],["placeholder","Search"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,t){var u=!0;return"input"===l&&(u=!1!==e.Lb(n,10)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Lb(n,10).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Lb(n,10)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Lb(n,10)._compositionEnd(t.target.value)&&u),u}),null,null)),e.yb(10,16384,null,0,D.d,[e.K,e.o,[2,D.a]],null,null),e.Qb(1024,null,D.o,(function(n){return[n]}),[D.d]),e.yb(12,540672,null,0,D.h,[[8,null],[8,null],[6,D.o],[2,D.B]],{form:[0,"form"]},null),e.Qb(2048,null,D.p,null,[D.h]),e.yb(14,16384,null,0,D.q,[[4,D.p]],null,null),(n()(),e.zb(15,0,null,null,0,"input",[["class","user-search-icon icon-blue"],["type","submit"],["value","Search"]],null,null,null,null,null)),(n()(),e.zb(16,0,[[1,0],["messageListConatiner",1]],null,6,"div",[["class","list-data"]],null,null,null,null,null)),(n()(),e.zb(17,0,null,null,3,"app-infinite-scroll",[],null,[[null,"scrolled"]],(function(n,l,t){var e=!0;return"scrolled"===l&&(e=!1!==n.component.scrolled()&&e),e}),A.b,A.a)),e.yb(18,245760,null,0,V.a,[e.o],{options:[0,"options"],isReverse:[1,"isReverse"]},{scrolled:"scrolled"}),(n()(),e.pb(16777216,null,0,1,null,W)),e.yb(20,278528,null,0,i.n,[e.W,e.S,e.w],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),(n()(),e.pb(16777216,null,null,1,null,F)),e.yb(22,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,12,0,t.searchField),n(l,18,0,t.options,!1),n(l,20,0,t.messageList,t.trackByFn),n(l,22,0,!(null!=t.messageList&&t.messageList.length||t.loading))}),(function(n,l){n(l,3,0,e.Lb(l,7).ngClassUntouched,e.Lb(l,7).ngClassTouched,e.Lb(l,7).ngClassPristine,e.Lb(l,7).ngClassDirty,e.Lb(l,7).ngClassValid,e.Lb(l,7).ngClassInvalid,e.Lb(l,7).ngClassPending),n(l,9,0,e.Lb(l,14).ngClassUntouched,e.Lb(l,14).ngClassTouched,e.Lb(l,14).ngClassPristine,e.Lb(l,14).ngClassDirty,e.Lb(l,14).ngClassValid,e.Lb(l,14).ngClassInvalid,e.Lb(l,14).ngClassPending)}))}var G=t("ZYCi"),K=t("2oiw"),J=function(){function n(n,l){this.messageApiService=n,this.alertService=l,this.chatText=new D.g(""),this.getMessageDetails=new e.q,this.loader=!1,this.destroyed$=new f.Subject}return n.prototype.ngOnInit=function(){},n.prototype.sendMessage=function(){if(this.chatText.value){var n={type:b.a.MESSAGE_TYPE.TEXT,message:this.chatText.value,thread:this.message._id};this.isVendor&&(n.planner=this.message.planner),this.sendMessageApi(n)}},n.prototype.uploadMedia=function(n){return R.__awaiter(this,void 0,void 0,(function(){var l,t=this;return R.__generator(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,Object(M.j)(n,b.a.PRODUCT_FORM.productImageSize,b.a.MESSAGE_MEDIA_ALLOWED)];case 1:return e.sent()&&(this.loader=!0,this.messageApiService.sendMediaMessage({file:n.files[0],thread:this.message._id}).pipe(Object(x.takeUntil)(this.destroyed$)).subscribe((function(l){n.value=null,t.updateMessageList(l),t.loader=!1}),(function(n){t.loader=!1}))),[3,3];case 2:return l=e.sent(),this.alertService.showError(l),[3,3];case 3:return[2]}}))}))},n.prototype.sendMessageApi=function(n){var l=this;this.messageApiService.sendMessage(n).pipe(Object(x.takeUntil)(this.destroyed$)).subscribe((function(n){l.chatText.setValue(""),l.updateMessageList(n)}))},n.prototype.updateMessageList=function(n){this.getMessageDetails.emit(!0),n.data.message&&n.data.createdAt&&this.messageApiService.setRecentMessage({message:n.data.message,createdAt:n.data.createdAt,thread:n.data.thread,image:n.data.image||null,type:n.data.type})},n.prototype.ngOnDestroy=function(){this.destroyed$.next(),this.destroyed$.complete()},n}(),Q=e.xb({encapsulation:0,styles:[[".message-input-box[_ngcontent-%COMP%]{width:100%;height:70px;padding:15px;border-top:1px solid #dce1ef;background:#fafbff;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between}.message-input-box[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{width:calc(100% - 165px)}.message-input-box[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:40px;border-radius:3px;border:1px solid #dce1ef;background-color:#fff}.message-input-box[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   button.send-btn[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:50%;margin-top:-15px;border:0;right:15px;cursor:pointer;z-index:1}.message-input-box[_ngcontent-%COMP%]   .attachment-col[_ngcontent-%COMP%]{width:40px;position:relative;cursor:pointer;margin:0}.message-input-box[_ngcontent-%COMP%]   .attachment-col[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{height:40px;width:40px;position:absolute;bottom:0;right:0;border-radius:5px;z-index:1;cursor:pointer;opacity:0;display:none}.message-input-box[_ngcontent-%COMP%]   .attachment-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:40px}@media screen and (max-width:576px){.message-input-box[_ngcontent-%COMP%]   .btn.primary[_ngcontent-%COMP%]{padding:0;min-width:60px;font-size:13px;height:35px}.message-input-box[_ngcontent-%COMP%]   .attachment-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:35px}.message-input-box[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{width:calc(100% - 125px)}.message-input-box[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:35px}}"]],data:{}});function Y(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,12,"div",[["class","message-input-box"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,2,"label",[["class","attachment-col"]],null,null,null,null,null)),(n()(),e.zb(2,0,[["messageMedia",1]],null,0,"input",[["accept","image/jpeg,image/jpg,image/png,application/pdf"],["type","file"]],null,[[null,"change"],[null,"click"]],(function(n,l,t){var u=!0;return"change"===l&&(u=!1!==n.component.uploadMedia(e.Lb(n,2))&&u),"click"===l&&(u=!1!==(e.Lb(n,2).value=null)&&u),u}),null,null)),(n()(),e.zb(3,0,null,null,0,"img",[["alt","attachment"],["src","../../../../assets/images/attachment.svg"]],null,null,null,null,null)),(n()(),e.zb(4,0,null,null,6,"div",[["class","search-bar"]],null,null,null,null,null)),(n()(),e.zb(5,0,null,null,5,"input",[["class","form-control"],["placeholder","Type a message hereâ€¦"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"keyup.enter"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(n,l,t){var u=!0,s=n.component;return"input"===l&&(u=!1!==e.Lb(n,6)._handleInput(t.target.value)&&u),"blur"===l&&(u=!1!==e.Lb(n,6).onTouched()&&u),"compositionstart"===l&&(u=!1!==e.Lb(n,6)._compositionStart()&&u),"compositionend"===l&&(u=!1!==e.Lb(n,6)._compositionEnd(t.target.value)&&u),"keyup.enter"===l&&(u=!1!==s.sendMessage()&&u),u}),null,null)),e.yb(6,16384,null,0,D.d,[e.K,e.o,[2,D.a]],null,null),e.Qb(1024,null,D.o,(function(n){return[n]}),[D.d]),e.yb(8,540672,null,0,D.h,[[8,null],[8,null],[6,D.o],[2,D.B]],{form:[0,"form"]},null),e.Qb(2048,null,D.p,null,[D.h]),e.yb(10,16384,null,0,D.q,[[4,D.p]],null,null),(n()(),e.zb(11,0,null,null,1,"button",[["class","btn primary small"],["type","button"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.sendMessage()&&e),e}),null,null)),(n()(),e.Tb(-1,null,["Send"]))],(function(n,l){n(l,8,0,l.component.chatText)}),(function(n,l){n(l,5,0,e.Lb(l,10).ngClassUntouched,e.Lb(l,10).ngClassTouched,e.Lb(l,10).ngClassPristine,e.Lb(l,10).ngClassDirty,e.Lb(l,10).ngClassValid,e.Lb(l,10).ngClassInvalid,e.Lb(l,10).ngClassPending)}))}var X=t("D7vW"),Z=t("VVrF"),nn=function(){function n(n){this.host=n,this.options={root:null},this.scrolled=new e.q}return n.prototype.ngOnInit=function(){var n=this,l=R.__assign({root:null,threshold:.8},this.options);this.observer=new IntersectionObserver((function(l){return R.__read(l,1)[0].isIntersecting&&n.scrolled.emit()}),l),this.observer.observe(this.anchor.nativeElement)},Object.defineProperty(n.prototype,"element",{get:function(){return this.host.nativeElement},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){this.observer&&this.observer.disconnect()},n}(),ln=e.xb({encapsulation:2,styles:[],data:{}});function tn(n){return e.Vb(0,[e.Rb(402653184,1,{anchor:0}),(n()(),e.zb(1,0,[[1,0],["anchorRev",1]],null,0,"div",[],null,null,null,null,null)),e.Kb(null,0)],null,null)}var en=function(){function n(n,l,t,u){this.messageApiService=n,this.checkRole=l,this.sessionService=t,this.commonService=u,this.messageEvent=new e.q,this.destroyed$=new f.Subject,this.s3BaseUrl=p.a.s3BaseUrl,this.trackByFn=M.I,this.chatTypes=b.a.MESSAGE_TYPE,this.isInitialScrolled=!1,this.userRoles=b.a.Role,this.quoteStatusText=b.a.PLANNER_QUOTE_HEADING,this.orderStatusText=b.a.QUOTE_STATUS_DISPLAY}return n.prototype.ngOnInit=function(){var n=this;this.isAdmin=this.checkRole.isAdmin(),this.options={root:this.detail.nativeElement},this.role=this.sessionService.getRole(),this.isVendor=this.sessionService.getRole()===b.a.Role.VENDOR,this.messageApiService.getActiveChat().pipe(Object(x.takeUntil)(this.destroyed$),Object(m.filter)((function(n){return!!n})),Object(h.map)((function(n){return n}))).subscribe((function(l){n.message=l,n.getMessageDetails(!0)}))},n.prototype.scrolled=function(){this.isInitialScrolled&&this.pageData&&this.pageData.totalPages>this.pageData.page?this.getMessageDetails(!1,{page:this.pageData.page+1}):this.isInitialScrolled=!0},n.prototype.getMessageDetails=function(n,l){var t=this;void 0===l&&(l={}),this.messageApiService.getMessageById(this.message._id,l,this.isAdmin).pipe(Object(x.takeUntil)(this.destroyed$)).subscribe((function(l){var e;l.data&&(t.messageDetails=n?l.data.docs:R.__spread((e=t.messageDetails).concat.apply(e,R.__spread(l.data.docs))),t.pageData={totalPages:l.data.totalPages,page:l.data.page}),t.updateChatList(n);var u=document.getElementById("msg-detail");return n?setTimeout((function(){return u.scrollTop=u.scrollHeight})):u.scrollTo(0,u.scrollHeight/b.a.FRACTION_TO_ROLL_BACK)}))},n.prototype.updateChatList=function(n){n&&this.messageDetails[0].message&&this.messageDetails[0].createdAt&&this.messageApiService.setRecentMessage({message:this.messageDetails[0].message,createdAt:this.messageDetails[0].createdAt,thread:this.messageDetails[0].thread,image:this.messageDetails[0].image||null,type:this.messageDetails[0].type})},n.prototype.onBack=function(){this.messageEvent.emit(!1)},n.prototype.downloadFile=function(n){window.location.href=n},n.prototype.ngOnDestroy=function(){this.destroyed$.next(),this.destroyed$.complete()},n}(),un=e.xb({encapsulation:0,styles:[[".message-detail-head[_ngcontent-%COMP%]{width:100%;height:65px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;border-bottom:1px solid #dce1ef;padding:0 20px}.message-detail-head[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;overflow:hidden;-webkit-box-flex:0;flex:none}.message-detail-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1;padding-left:12px;font-size:17px;font-weight:500;margin:0}.message-detail-head[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{display:none}@media screen and (max-width:576px){.message-detail-head[_ngcontent-%COMP%]{padding:0 20px 0 55px}.message-detail-head[_ngcontent-%COMP%]   .material-icons[_ngcontent-%COMP%]{display:block;font-size:20px;cursor:pointer;position:absolute;left:16px}.message-detail-head[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:24px;height:24px}.message-detail-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;padding-left:9px}}.message-detail-box[_ngcontent-%COMP%]{height:calc(100% - 135px);overflow-y:auto;padding:20px 0}.message-detail-box.admin-message-detail-box[_ngcontent-%COMP%]{height:calc(100% - 65px)}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]{width:100%;height:auto;padding:2px 15px;display:-webkit-box;display:flex}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip[_ngcontent-%COMP%]{max-width:390px;width:auto;padding:14px;margin-bottom:30px}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#000;line-height:22px;margin:0}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#999;text-align:right;display:block}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip.send-message-tooltip[_ngcontent-%COMP%]{margin-left:auto;border-top-left-radius:15px;border-bottom-left-radius:15px;border-bottom-right-radius:15px;background:#f0f4ff}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip.received-message-tooltip[_ngcontent-%COMP%]{margin-right:auto;border-top-right-radius:15px;border-bottom-left-radius:15px;border-bottom-right-radius:15px;background:#fafafa}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip.with-attachment[_ngcontent-%COMP%]{padding:0}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip.with-attachment[_ngcontent-%COMP%]   .attachment-top[_ngcontent-%COMP%]{display:-webkit-box;display:flex;padding:10px;border-bottom:1px solid #ececec}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip.with-attachment[_ngcontent-%COMP%]   .attachment-top[_ngcontent-%COMP%]   .image-section[_ngcontent-%COMP%]{min-width:50px;min-height:50px;width:50px;height:50px;border-radius:10px;background-color:#f1f1f1;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;margin-right:10px}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip.with-attachment[_ngcontent-%COMP%]   .attachment-top[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{word-break:break-word;line-height:1.57;color:#222}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip.with-attachment[_ngcontent-%COMP%]   .attachment-bottom[_ngcontent-%COMP%]{display:-webkit-box;display:flex;padding:10px;-webkit-box-pack:justify;justify-content:space-between}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip.with-attachment[_ngcontent-%COMP%]   .attachment-bottom[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:12px;letter-spacing:.3px;color:#999}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip.with-attachment[_ngcontent-%COMP%]   .attachment-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not([href]):not([tabindex]){font-size:12px;font-weight:500;line-height:1.83;color:#5067eb}.message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip.with-attachment[_ngcontent-%COMP%]   .attachment-bottom[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not([href]):not([tabindex]):hover{text-decoration:underline}@media screen and (max-width:576px){@supports (-webkit-overflow-scrolling:touch){.message-detail-box[_ngcontent-%COMP%]{height:calc(100vh - 210px)}}@supports not (-webkit-overflow-scrolling:touch){.message-detail-box[_ngcontent-%COMP%]{height:calc(100% - 180px)}}}@media only screen and (min-device-width:375px) and (max-device-width:812px) and (-webkit-device-pixel-ratio:3){.message-detail-box[_ngcontent-%COMP%]{height:calc(100vh - 249px)}}.media-card[_ngcontent-%COMP%]{width:255px;max-width:100%;border-radius:6px;border:1px solid #dce1ef;margin-bottom:30px}.media-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:0;padding:10px 15px}.media-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{width:100%;height:150px}.media-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:10px 15px 12px}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;margin-bottom:10px}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;font-weight:300;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;margin:0}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;flex-wrap:wrap;margin:5px 0;-webkit-box-pack:justify;justify-content:space-between}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .card-col[_ngcontent-%COMP%]{width:calc(50% - 10px);margin-bottom:8px}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .card-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;color:#818181;font-weight:500;text-transform:uppercase}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .card-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;font-weight:500}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-btn[_ngcontent-%COMP%]{height:35px;border-radius:5px;line-height:35px;border:1px solid #5067eb;background-color:#fff;font-size:12px;color:#000;padding:0;width:100%}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:none}.hide-chat[_ngcontent-%COMP%]{display:none}.preserve-whitespace[_ngcontent-%COMP%]{white-space:pre-wrap}"]],data:{}});function sn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,15,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,13,null,null,null,null,null,null,null)),(n()(),e.zb(2,0,null,null,6,"div",[["class","admin-user-head"]],null,null,null,null,null)),(n()(),e.zb(3,0,null,null,2,"span",[["class","user-avatar"]],null,null,null,null,null)),(n()(),e.zb(4,0,null,null,1,"img",[["alt","user"],["appNoImage",""],["class","img-cover"]],[[8,"src",4]],[[null,"error"]],(function(n,l,t){var u=!0;return"error"===l&&(u=!1!==e.Lb(n,5).onError()&&u),u}),null,null)),e.yb(5,4210688,null,0,o.a,[e.o],null,null),(n()(),e.zb(6,0,null,null,2,"p",[["class","text-truncate"]],null,null,null,null,null)),(n()(),e.Tb(7,null,["",""])),e.Pb(8,1),(n()(),e.zb(9,0,null,null,5,"div",[["class","admin-user-head"]],null,null,null,null,null)),(n()(),e.zb(10,0,null,null,2,"span",[["class","user-avatar"]],null,null,null,null,null)),(n()(),e.zb(11,0,null,null,1,"img",[["alt","user"],["appNoImage",""],["class","img-cover"]],[[8,"src",4]],[[null,"error"]],(function(n,l,t){var u=!0;return"error"===l&&(u=!1!==e.Lb(n,12).onError()&&u),u}),null,null)),e.yb(12,4210688,null,0,o.a,[e.o],null,null),(n()(),e.zb(13,0,null,null,1,"p",[["class","text-truncate"]],null,null,null,null,null)),(n()(),e.Tb(14,null,["",""])),(n()(),e.zb(15,0,null,null,0,null,null,null,null,null,null,null))],null,(function(n,l){var t=l.component;n(l,4,0,e.Db(2,"",t.s3BaseUrl,"",null==t.message?null:null==t.message.planners?null:t.message.planners.image,""));var u=e.Ub(l,7,0,n(l,8,0,e.Lb(l.parent,0),null==t.message?null:t.message.planners));n(l,7,0,u),n(l,11,0,e.Db(2,"",t.s3BaseUrl,"",null==t.message?null:null==t.message.vendors?null:t.message.vendors.logo,"")),n(l,14,0,null==t.message?null:null==t.message.vendors?null:t.message.vendors.name)}))}function on(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,1,"span",[["class","material-icons"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onBack()&&e),e}),null,null)),(n()(),e.Tb(-1,null,[" keyboard_backspace "])),(n()(),e.zb(3,0,null,null,2,"span",[["class","user-avatar"]],null,null,null,null,null)),(n()(),e.zb(4,0,null,null,1,"img",[["alt","user"],["appNoImage",""],["class","img-cover"]],[[8,"src",4]],[[null,"error"]],(function(n,l,t){var u=!0;return"error"===l&&(u=!1!==e.Lb(n,5).onError()&&u),u}),null,null)),e.yb(5,4210688,null,0,o.a,[e.o],null,null),(n()(),e.zb(6,0,null,null,1,"p",[["class","text-truncate"]],null,null,null,null,null)),(n()(),e.Tb(7,null,["",""]))],null,(function(n,l){var t=l.component;n(l,4,0,e.Db(2,"",t.s3BaseUrl,"",null==t.message?null:null==t.message.vendors?null:t.message.vendors.logo,"")),n(l,7,0,null==t.message?null:null==t.message.vendors?null:t.message.vendors.name)}))}function an(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,8,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,1,"span",[["class","material-icons"]],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.onBack()&&e),e}),null,null)),(n()(),e.Tb(-1,null,[" keyboard_backspace "])),(n()(),e.zb(3,0,null,null,2,"span",[["class","user-avatar"]],null,null,null,null,null)),(n()(),e.zb(4,0,null,null,1,"img",[["alt","user"],["appNoImage",""],["class","img-cover"]],[[8,"src",4]],[[null,"error"]],(function(n,l,t){var u=!0;return"error"===l&&(u=!1!==e.Lb(n,5).onError()&&u),u}),null,null)),e.yb(5,4210688,null,0,o.a,[e.o],null,null),(n()(),e.zb(6,0,null,null,2,"p",[["class","text-truncate"]],null,null,null,null,null)),(n()(),e.Tb(7,null,["",""])),e.Pb(8,1)],null,(function(n,l){var t=l.component;n(l,4,0,e.Db(2,"",t.s3BaseUrl,"",null==t.message?null:null==t.message.planners?null:t.message.planners.image,""));var u=e.Ub(l,7,0,n(l,8,0,e.Lb(l.parent.parent,0),null==t.message?null:t.message.planners));n(l,7,0,u)}))}function rn(n){return e.Vb(0,[(n()(),e.pb(16777216,null,null,1,null,on)),e.yb(1,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(16777216,null,null,1,null,an)),e.yb(3,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(0,null,null,0))],(function(n,l){var t=l.component;n(l,1,0,!t.isVendor),n(l,3,0,t.isVendor)}),null)}function cn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,9,"div",[["class","upload-image-loader"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,8,"div",[["id","floatingBarsG"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,0,"div",[["class","blockG"],["id","rotateG_01"]],null,null,null,null,null)),(n()(),e.zb(3,0,null,null,0,"div",[["class","blockG"],["id","rotateG_02"]],null,null,null,null,null)),(n()(),e.zb(4,0,null,null,0,"div",[["class","blockG"],["id","rotateG_03"]],null,null,null,null,null)),(n()(),e.zb(5,0,null,null,0,"div",[["class","blockG"],["id","rotateG_04"]],null,null,null,null,null)),(n()(),e.zb(6,0,null,null,0,"div",[["class","blockG"],["id","rotateG_05"]],null,null,null,null,null)),(n()(),e.zb(7,0,null,null,0,"div",[["class","blockG"],["id","rotateG_06"]],null,null,null,null,null)),(n()(),e.zb(8,0,null,null,0,"div",[["class","blockG"],["id","rotateG_07"]],null,null,null,null,null)),(n()(),e.zb(9,0,null,null,0,"div",[["class","blockG"],["id","rotateG_08"]],null,null,null,null,null))],null,null)}function pn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,9,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,8,"div",[["class","message-tooltip"]],null,null,null,null,null)),e.Qb(512,null,i.H,i.I,[e.w,e.x,e.o,e.K]),e.yb(3,278528,null,0,i.m,[i.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(4,{"received-message-tooltip":0,"send-message-tooltip":1}),(n()(),e.zb(5,0,null,null,1,"p",[["class","preserve-whitespace"]],null,null,null,null,null)),(n()(),e.Tb(6,null,["",""])),(n()(),e.zb(7,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e.Tb(8,null,["",""])),e.Pb(9,2)],(function(n,l){var t=l.component,e=n(l,4,0,(null==l.parent.parent.context.$implicit?null:l.parent.parent.context.$implicit.messageBy)===t.userRoles.PLANNER,l.parent.parent.context.$implicit.messageBy===t.userRoles.VENDOR);n(l,3,0,"message-tooltip",e)}),(function(n,l){n(l,6,0,l.parent.parent.context.$implicit.message);var t=e.Ub(l,8,0,n(l,9,0,e.Lb(l.parent.parent.parent,2),l.parent.parent.context.$implicit.createdAt,!0));n(l,8,0,t)}))}function gn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,8,"div",[["class","message-tooltip"]],null,null,null,null,null)),e.Qb(512,null,i.H,i.I,[e.w,e.x,e.o,e.K]),e.yb(2,278528,null,0,i.m,[i.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(3,{"received-message-tooltip":0,"send-message-tooltip":1}),(n()(),e.zb(4,0,null,null,1,"p",[["class","preserve-whitespace"]],null,null,null,null,null)),(n()(),e.Tb(5,null,["",""])),(n()(),e.zb(6,0,null,null,2,"span",[],null,null,null,null,null)),(n()(),e.Tb(7,null,["",""])),e.Pb(8,2)],(function(n,l){var t=l.component,e=n(l,3,0,(null==l.parent.parent.context.$implicit?null:l.parent.parent.context.$implicit.messageBy)!==t.role,(null==l.parent.parent.context.$implicit?null:l.parent.parent.context.$implicit.messageBy)===t.role);n(l,2,0,"message-tooltip",e)}),(function(n,l){n(l,5,0,null==l.parent.parent.context.$implicit?null:l.parent.parent.context.$implicit.message);var t=e.Ub(l,7,0,n(l,8,0,e.Lb(l.parent.parent.parent,2),null==l.parent.parent.context.$implicit?null:l.parent.parent.context.$implicit.createdAt,!0));n(l,7,0,t)}))}function dn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,3,"div",[["class","message-tooltip-row"]],null,null,null,null,null)),(n()(),e.pb(16777216,null,null,1,null,pn)),e.yb(2,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.pb(0,[["nonAdminText",2]],null,0,null,gn))],(function(n,l){n(l,2,0,l.component.isAdmin,e.Lb(l,3))}),null)}function bn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,3,"button",[["class","btn card-btn"],["type","button"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Lb(n,2).onClick()&&u),u}),null,null)),e.yb(2,16384,null,0,G.p,[G.o,G.a,[8,null],e.K,e.o],{routerLink:[0,"routerLink"]},null),e.Mb(3,2),(n()(),e.Tb(-1,null,["View Full Details"]))],(function(n,l){var t=n(l,3,0,"/planner/quote-request-details",null==l.parent.parent.context.$implicit?null:null==l.parent.parent.context.$implicit.quote?null:l.parent.parent.context.$implicit.quote._id);n(l,2,0,t)}),null)}function mn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,3,"button",[["class","btn card-btn"],["type","button"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Lb(n,2).onClick()&&u),u}),null,null)),e.yb(2,16384,null,0,G.p,[G.o,G.a,[8,null],e.K,e.o],{routerLink:[0,"routerLink"]},null),e.Mb(3,2),(n()(),e.Tb(-1,null,["View Full Details"]))],(function(n,l){var t=n(l,3,0,"/vendor/quotes/quote-detail",null==l.parent.parent.context.$implicit?null:null==l.parent.parent.context.$implicit.quote?null:l.parent.parent.context.$implicit.quote._id);n(l,2,0,t)}),null)}function hn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,33,"div",[["class","message-tooltip-row "]],null,null,null,null,null)),e.Qb(512,null,i.H,i.I,[e.w,e.x,e.o,e.K]),e.yb(2,278528,null,0,i.m,[i.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(3,{"justify-content-end":0}),(n()(),e.zb(4,0,null,null,29,"div",[["class","media-card"]],null,null,null,null,null)),(n()(),e.zb(5,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Tb(6,null,["",""])),(n()(),e.zb(7,0,null,null,2,"div",[["class","card-image"]],null,null,null,null,null)),(n()(),e.zb(8,0,null,null,1,"img",[["alt","Card image"],["appNoImage",""]],[[8,"src",4]],[[null,"error"]],(function(n,l,t){var u=!0;return"error"===l&&(u=!1!==e.Lb(n,9).onError()&&u),u}),null,null)),e.yb(9,4210688,null,0,o.a,[e.o],null,null),(n()(),e.zb(10,0,null,null,23,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.zb(11,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),e.Tb(12,null,["",""])),(n()(),e.zb(13,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Tb(14,null,["",""])),(n()(),e.zb(15,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Tb(16,null,["Qyt: ",""])),(n()(),e.zb(17,0,null,null,12,"div",[["class","card-row"]],null,null,null,null,null)),(n()(),e.zb(18,0,null,null,5,"div",[["class","card-col"]],null,null,null,null,null)),(n()(),e.zb(19,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Event Start Date"])),(n()(),e.zb(21,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),e.Tb(22,null,["",""])),e.Pb(23,1),(n()(),e.zb(24,0,null,null,5,"div",[["class","card-col"]],null,null,null,null,null)),(n()(),e.zb(25,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Event End Date"])),(n()(),e.zb(27,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),e.Tb(28,null,["",""])),e.Pb(29,1),(n()(),e.pb(16777216,null,null,1,null,bn)),e.yb(31,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(16777216,null,null,1,null,mn)),e.yb(33,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component,e=n(l,3,0,!t.isAdmin&&(null==l.parent.context.$implicit?null:l.parent.context.$implicit.messageBy)===t.role||t.isAdmin&&(null==l.parent.context.$implicit?null:l.parent.context.$implicit.messageBy)===t.userRoles.VENDOR);n(l,2,0,"message-tooltip-row ",e),n(l,31,0,!t.isVendor&&!t.isAdmin),n(l,33,0,t.isVendor)}),(function(n,l){n(l,6,0,l.component.quoteStatusText[null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.quote?null:l.parent.context.$implicit.quote.status]||"Quote"),n(l,8,0,e.Db(1,"",null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.quote?null:null==l.parent.context.$implicit.quote.product?null:l.parent.context.$implicit.quote.product.defaultImageUrl,"")),n(l,12,0,null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.quote?null:null==l.parent.context.$implicit.quote.product?null:l.parent.context.$implicit.quote.product.name),n(l,14,0,null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.quote?null:null==l.parent.context.$implicit.quote.events?null:l.parent.context.$implicit.quote.events.label),n(l,16,0,null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.quote?null:l.parent.context.$implicit.quote.quantity);var t=e.Ub(l,22,0,n(l,23,0,e.Lb(l.parent.parent,3),null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.quote?null:null==l.parent.context.$implicit.quote.varriableInfo?null:l.parent.context.$implicit.quote.varriableInfo.eventStartDate));n(l,22,0,t);var u=e.Ub(l,28,0,n(l,29,0,e.Lb(l.parent.parent,3),null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.quote?null:null==l.parent.context.$implicit.quote.varriableInfo?null:l.parent.context.$implicit.quote.varriableInfo.eventEndDate));n(l,28,0,u)}))}function fn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,3,"button",[["class","btn card-btn"],["type","button"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Lb(n,2).onClick()&&u),u}),null,null)),e.yb(2,16384,null,0,G.p,[G.o,G.a,[8,null],e.K,e.o],{routerLink:[0,"routerLink"]},null),e.Mb(3,2),(n()(),e.Tb(-1,null,["View Full Details"]))],(function(n,l){var t=n(l,3,0,"/planner/order",null==l.parent.parent.context.$implicit?null:null==l.parent.parent.context.$implicit.order?null:l.parent.parent.context.$implicit.order._id);n(l,2,0,t)}),null)}function xn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,3,"button",[["class","btn card-btn"],["type","button"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Lb(n,2).onClick()&&u),u}),null,null)),e.yb(2,16384,null,0,G.p,[G.o,G.a,[8,null],e.K,e.o],{routerLink:[0,"routerLink"]},null),e.Mb(3,2),(n()(),e.Tb(-1,null,["View Full Details"]))],(function(n,l){var t=n(l,3,0,"/vendor/quotes/order-detail",null==l.parent.parent.context.$implicit?null:null==l.parent.parent.context.$implicit.order?null:l.parent.parent.context.$implicit.order._id);n(l,2,0,t)}),null)}function Mn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,33,"div",[["class","message-tooltip-row "]],null,null,null,null,null)),e.Qb(512,null,i.H,i.I,[e.w,e.x,e.o,e.K]),e.yb(2,278528,null,0,i.m,[i.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(3,{"justify-content-end":0}),(n()(),e.zb(4,0,null,null,29,"div",[["class","media-card"]],null,null,null,null,null)),(n()(),e.zb(5,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Tb(6,null,["",""])),(n()(),e.zb(7,0,null,null,2,"div",[["class","card-image"]],null,null,null,null,null)),(n()(),e.zb(8,0,null,null,1,"img",[["alt","Card image"],["appNoImage",""]],[[8,"src",4]],[[null,"error"]],(function(n,l,t){var u=!0;return"error"===l&&(u=!1!==e.Lb(n,9).onError()&&u),u}),null,null)),e.yb(9,4210688,null,0,o.a,[e.o],null,null),(n()(),e.zb(10,0,null,null,23,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.zb(11,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),e.Tb(12,null,["",""])),(n()(),e.zb(13,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Tb(14,null,["",""])),(n()(),e.zb(15,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Tb(16,null,["Qyt: ",""])),(n()(),e.zb(17,0,null,null,12,"div",[["class","card-row"]],null,null,null,null,null)),(n()(),e.zb(18,0,null,null,5,"div",[["class","card-col"]],null,null,null,null,null)),(n()(),e.zb(19,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Event Start Date"])),(n()(),e.zb(21,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),e.Tb(22,null,["",""])),e.Pb(23,1),(n()(),e.zb(24,0,null,null,5,"div",[["class","card-col"]],null,null,null,null,null)),(n()(),e.zb(25,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Event End Date"])),(n()(),e.zb(27,0,null,null,2,"p",[],null,null,null,null,null)),(n()(),e.Tb(28,null,["",""])),e.Pb(29,1),(n()(),e.pb(16777216,null,null,1,null,fn)),e.yb(31,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(16777216,null,null,1,null,xn)),e.yb(33,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component,e=n(l,3,0,!t.isAdmin&&l.parent.context.$implicit.messageBy===t.role||t.isAdmin&&l.parent.context.$implicit.messageBy===t.userRoles.VENDOR);n(l,2,0,"message-tooltip-row ",e),n(l,31,0,!t.isVendor&&!t.isAdmin),n(l,33,0,t.isVendor)}),(function(n,l){n(l,6,0,l.component.orderStatusText[null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.order?null:l.parent.context.$implicit.order.status]),n(l,8,0,e.Db(1,"",null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.order?null:null==l.parent.context.$implicit.order.products?null:l.parent.context.$implicit.order.products.defaultImageUrl,"")),n(l,12,0,null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.order?null:null==l.parent.context.$implicit.order.products?null:l.parent.context.$implicit.order.products.name),n(l,14,0,null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.order?null:null==l.parent.context.$implicit.order.events?null:l.parent.context.$implicit.order.events.label),n(l,16,0,null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.order?null:l.parent.context.$implicit.order.quantity);var t=e.Ub(l,22,0,n(l,23,0,e.Lb(l.parent.parent,3),null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.order?null:null==l.parent.context.$implicit.order.varriableInfo?null:l.parent.context.$implicit.order.varriableInfo.eventStartDate));n(l,22,0,t);var u=e.Ub(l,28,0,n(l,29,0,e.Lb(l.parent.parent,3),null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.order?null:null==l.parent.context.$implicit.order.varriableInfo?null:l.parent.context.$implicit.order.varriableInfo.eventEndDate));n(l,28,0,u)}))}function Cn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,3,"button",[["class","btn card-btn"],["type","button"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Lb(n,1).onClick()&&u),u}),null,null)),e.yb(1,16384,null,0,G.p,[G.o,G.a,[8,null],e.K,e.o],{routerLink:[0,"routerLink"]},null),e.Mb(2,2),(n()(),e.Tb(-1,null,["View Full Details"]))],(function(n,l){var t=n(l,2,0,"/details",null==l.parent.parent.context.$implicit?null:null==l.parent.parent.context.$implicit.product?null:l.parent.parent.context.$implicit.product._id);n(l,1,0,t)}),null)}function vn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,3,"button",[["class","btn card-btn"],["type","button"]],null,[[null,"click"]],(function(n,l,t){var u=!0;return"click"===l&&(u=!1!==e.Lb(n,1).onClick()&&u),u}),null,null)),e.yb(1,16384,null,0,G.p,[G.o,G.a,[8,null],e.K,e.o],{routerLink:[0,"routerLink"]},null),e.Mb(2,2),(n()(),e.Tb(-1,null,["View Full Details"]))],(function(n,l){var t=n(l,2,0,"/vendor/products-services",null==l.parent.parent.context.$implicit?null:null==l.parent.parent.context.$implicit.product?null:l.parent.parent.context.$implicit.product._id);n(l,1,0,t)}),null)}function On(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,16,"div",[["class","message-tooltip-row"]],null,null,null,null,null)),e.Qb(512,null,i.H,i.I,[e.w,e.x,e.o,e.K]),e.yb(2,278528,null,0,i.m,[i.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(3,{"justify-content-end":0}),(n()(),e.zb(4,0,null,null,12,"div",[["class","media-card"]],null,null,null,null,null)),(n()(),e.zb(5,0,null,null,1,"h3",[],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Product Inquiry"])),(n()(),e.zb(7,0,null,null,2,"div",[["class","card-image"]],null,null,null,null,null)),(n()(),e.zb(8,0,null,null,1,"img",[["alt","Card image"],["appNoImage",""]],[[8,"src",4]],[[null,"error"]],(function(n,l,t){var u=!0;return"error"===l&&(u=!1!==e.Lb(n,9).onError()&&u),u}),null,null)),e.yb(9,4210688,null,0,o.a,[e.o],null,null),(n()(),e.zb(10,0,null,null,6,"div",[["class","card-body"]],null,null,null,null,null)),(n()(),e.zb(11,0,null,null,1,"h4",[],null,null,null,null,null)),(n()(),e.Tb(12,null,["",""])),(n()(),e.pb(16777216,null,null,1,null,Cn)),e.yb(14,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(16777216,null,null,1,null,vn)),e.yb(16,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component,e=n(l,3,0,!t.isAdmin&&l.parent.context.$implicit.messageBy===t.role||t.isAdmin&&l.parent.context.$implicit.messageBy===t.userRoles.VENDOR);n(l,2,0,"message-tooltip-row",e),n(l,14,0,!t.isVendor&&!t.isAdmin),n(l,16,0,t.isVendor)}),(function(n,l){n(l,8,0,e.Db(1,"",null==l.parent.context.$implicit?null:null==l.parent.context.$implicit.product?null:l.parent.context.$implicit.product.defaultImageUrl,"")),n(l,12,0,null==l.parent.context.$implicit?null:l.parent.context.$implicit.product.name)}))}function _n(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,14,null,null,null,null,null,null,null)),(n()(),e.zb(1,0,null,null,13,"div",[["class","message-tooltip with-attachment"]],null,null,null,null,null)),e.Qb(512,null,i.H,i.I,[e.w,e.x,e.o,e.K]),e.yb(3,278528,null,0,i.m,[i.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(4,{"received-message-tooltip":0,"send-message-tooltip":1}),(n()(),e.zb(5,0,null,null,4,"div",[["class","attachment-top"]],null,null,null,null,null)),(n()(),e.zb(6,0,null,null,1,"div",[["class","image-section"]],null,null,null,null,null)),(n()(),e.zb(7,0,null,null,0,"img",[["alt","Attachment"],["src","assets/images/pin.svg"]],null,null,null,null,null)),(n()(),e.zb(8,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(n()(),e.Tb(9,null,["",""])),(n()(),e.zb(10,0,null,null,4,"div",[["class","attachment-bottom"]],null,null,null,null,null)),(n()(),e.zb(11,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Tb(12,null,["",""])),(n()(),e.zb(13,0,null,null,1,"a",[],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.downloadFile(n.parent.parent.context.$implicit.message)&&e),e}),null,null)),(n()(),e.Tb(-1,null,["download"]))],(function(n,l){var t=l.component,e=n(l,4,0,l.parent.parent.context.$implicit.messageBy===t.userRoles.PLANNER,l.parent.parent.context.$implicit.messageBy===t.userRoles.VENDOR);n(l,3,0,"message-tooltip with-attachment",e)}),(function(n,l){n(l,9,0,null==l.parent.parent.context.$implicit?null:null==l.parent.parent.context.$implicit.image?null:l.parent.parent.context.$implicit.image.name),n(l,12,0,null==l.parent.parent.context.$implicit?null:null==l.parent.parent.context.$implicit.image?null:l.parent.parent.context.$implicit.image.size)}))}function Pn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,13,"div",[["class","message-tooltip with-attachment"]],null,null,null,null,null)),e.Qb(512,null,i.H,i.I,[e.w,e.x,e.o,e.K]),e.yb(2,278528,null,0,i.m,[i.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(3,{"received-message-tooltip":0,"send-message-tooltip":1}),(n()(),e.zb(4,0,null,null,4,"div",[["class","attachment-top"]],null,null,null,null,null)),(n()(),e.zb(5,0,null,null,1,"div",[["class","image-section"]],null,null,null,null,null)),(n()(),e.zb(6,0,null,null,0,"img",[["alt","Attachment"],["src","assets/images/pin.svg"]],null,null,null,null,null)),(n()(),e.zb(7,0,null,null,1,"div",[["class","text"]],null,null,null,null,null)),(n()(),e.Tb(8,null,["",""])),(n()(),e.zb(9,0,null,null,4,"div",[["class","attachment-bottom"]],null,null,null,null,null)),(n()(),e.zb(10,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Tb(11,null,["",""])),(n()(),e.zb(12,0,null,null,1,"a",[],null,[[null,"click"]],(function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.downloadFile(n.parent.parent.context.$implicit.message)&&e),e}),null,null)),(n()(),e.Tb(-1,null,["download"]))],(function(n,l){var t=l.component,e=n(l,3,0,l.parent.parent.context.$implicit.messageBy!==t.role,l.parent.parent.context.$implicit.messageBy===t.role);n(l,2,0,"message-tooltip with-attachment",e)}),(function(n,l){n(l,8,0,null==l.parent.parent.context.$implicit?null:null==l.parent.parent.context.$implicit.image?null:l.parent.parent.context.$implicit.image.name),n(l,11,0,null==l.parent.parent.context.$implicit?null:null==l.parent.parent.context.$implicit.image?null:l.parent.parent.context.$implicit.image.size)}))}function yn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,3,"div",[["class","message-tooltip-row"]],null,null,null,null,null)),(n()(),e.pb(16777216,null,null,1,null,_n)),e.yb(2,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.pb(0,[["nonAdminMediaBox",2]],null,0,null,Pn))],(function(n,l){n(l,2,0,l.component.isAdmin,e.Lb(l,3))}),null)}function wn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,10,null,null,null,null,null,null,null)),(n()(),e.pb(16777216,null,null,1,null,dn)),e.yb(2,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(16777216,null,null,1,null,hn)),e.yb(4,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(16777216,null,null,1,null,Mn)),e.yb(6,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(16777216,null,null,1,null,On)),e.yb(8,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(16777216,null,null,1,null,yn)),e.yb(10,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(0,null,null,0))],(function(n,l){var t=l.component;n(l,2,0,l.context.$implicit.type===t.chatTypes.TEXT),n(l,4,0,(null==l.context.$implicit?null:l.context.$implicit.type)===t.chatTypes.QUOTE),n(l,6,0,(null==l.context.$implicit?null:l.context.$implicit.type)===t.chatTypes.ORDER),n(l,8,0,l.context.$implicit.type===t.chatTypes.PRODUCT&&l.context.$implicit.product),n(l,10,0,l.context.$implicit.type===t.chatTypes.MEDIA)}),null)}function zn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"app-message-input",[],null,[[null,"getMessageDetails"]],(function(n,l,t){var e=!0;return"getMessageDetails"===l&&(e=!1!==n.component.getMessageDetails(t)&&e),e}),Y,Q)),e.yb(1,245760,[[2,4]],0,J,[g.a,K.a],{message:[0,"message"],isVendor:[1,"isVendor"]},{getMessageDetails:"getMessageDetails"})],(function(n,l){var t=l.component;n(l,1,0,t.message,t.isVendor)}),null)}function kn(n){return e.Vb(0,[e.Nb(0,a.a,[]),e.Nb(0,X.a,[]),e.Nb(0,c,[]),e.Nb(0,Z.a,[]),e.Rb(402653184,1,{detail:0}),e.Rb(402653184,2,{messageInput:0}),(n()(),e.zb(6,0,[["head",1]],null,3,"div",[["class","message-detail-head"]],null,null,null,null,null)),(n()(),e.pb(16777216,null,null,1,null,sn)),e.yb(8,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),e.pb(0,[["nonAdmin",2]],null,0,null,rn)),(n()(),e.zb(10,0,null,null,11,null,null,null,null,null,null,null)),(n()(),e.pb(16777216,null,null,1,null,cn)),e.yb(12,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.zb(13,0,[[1,0],["detail",1]],null,8,"div",[["class","message-detail-box"],["id","msg-detail"]],null,null,null,null,null)),e.Qb(512,null,i.H,i.I,[e.w,e.x,e.o,e.K]),e.yb(15,278528,null,0,i.m,[i.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(16,{"admin-message-detail-box":0}),(n()(),e.zb(17,0,null,null,4,"app-reverse-scroll",[],null,[[null,"scrolled"]],(function(n,l,t){var e=!0;return"scrolled"===l&&(e=!1!==n.component.scrolled()&&e),e}),tn,ln)),e.yb(18,245760,null,0,nn,[e.o],{options:[0,"options"]},{scrolled:"scrolled"}),(n()(),e.pb(16777216,null,0,2,null,wn)),e.yb(20,278528,null,0,i.n,[e.W,e.S,e.w],{ngForOf:[0,"ngForOf"],ngForTrackBy:[1,"ngForTrackBy"]},null),e.Pb(21,1),(n()(),e.pb(16777216,null,null,1,null,zn)),e.yb(23,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,8,0,t.isAdmin,e.Lb(l,9)),n(l,12,0,(null==t.messageInput?null:t.messageInput.loader)&&!t.isAdmin);var u=n(l,16,0,t.isAdmin);n(l,15,0,"message-detail-box",u),n(l,18,0,t.options);var s=e.Ub(l,20,0,n(l,21,0,e.Lb(l,1),t.messageDetails));n(l,20,0,s,t.trackByFn),n(l,23,0,!t.isAdmin)}),null)}var In=t("Dxa7"),Ln=function(){function n(n,l,t){this.messageApiService=n,this.checkRoles=l,this.commonService=t,this.loading=!1,this.isMessageListEmpty=!1,this.messageSection=!1,this.isCountCalled=!1,this.fromSearch=!1}return n.prototype.ngOnInit=function(){this.isAdmin=this.checkRoles.isAdmin(),this.getMessageList()},n.prototype.onMessageEvent=function(n){this.messageSection=n},n.prototype.getMessageList=function(n){var l=this;void 0===n&&(n={}),this.loading=!0,this.messageList$=this.messageApiService.getMessageList(n,this.isAdmin).pipe(Object(h.map)((function(t){return l.loading=!1,l.fromSearch=n.fromSearch,n=R.__assign({},n,{fromSearch:null}),l.isCountCalled||setTimeout((function(){return l.commonService.getHeaderCountApi().pipe(Object(In.take)(1)).subscribe((function(){return l.isCountCalled=!0}))})),t})))},n.prototype.isListEmpty=function(n){this.isMessageListEmpty=n},n}(),$n=e.xb({encapsulation:0,styles:[[".message-container[_ngcontent-%COMP%]{width:100%;height:auto}.message-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{padding:30px 0 10px}@media screen and (max-width:1024px){.message-container[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{font-size:20px;padding:24px 0 0;margin:0}}.message-dashboard[_ngcontent-%COMP%]{width:100%;height:calc(100vh - 295px);margin-top:30px;display:-webkit-box;display:flex}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]{width:calc(100% - 383px);margin-left:23px;height:100%;border:1px solid #dce1ef;border-top-left-radius:4px;border-top-right-radius:4px}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-detail-head[_ngcontent-%COMP%]{width:100%;height:65px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;border-bottom:1px solid #dce1ef;padding:0 20px}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-detail-head[_ngcontent-%COMP%]   .user-avatar[_ngcontent-%COMP%]{width:28px;height:28px;border-radius:50%;overflow:hidden;-webkit-box-flex:0;flex:none}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-detail-head[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{-webkit-box-flex:1;flex:1 1;padding-left:12px;font-size:17px;font-weight:500;margin:0}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-detail-box[_ngcontent-%COMP%]{height:calc(100% - 135px);overflow-y:auto;padding:20px 0}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]{width:100%;height:auto;padding:2px 15px;display:-webkit-box;display:flex}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip[_ngcontent-%COMP%]{max-width:390px;width:auto;padding:14px;margin-bottom:30px}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:14px;color:#000;line-height:22px;margin:0}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;color:#999;text-align:right;display:block}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip.send-message-tooltip[_ngcontent-%COMP%]{margin-left:auto;border-top-left-radius:15px;border-bottom-left-radius:15px;border-bottom-right-radius:15px;background:#f0f4ff}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-detail-box[_ngcontent-%COMP%]   .message-tooltip-row[_ngcontent-%COMP%]   .message-tooltip.received-message-tooltip[_ngcontent-%COMP%]{margin-right:auto;border-top-right-radius:15px;border-bottom-left-radius:15px;border-bottom-right-radius:15px;background:#fafafa}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-input-box[_ngcontent-%COMP%]{width:100%;height:70px;padding:15px;border-top:1px solid #dce1ef;background:#fafbff;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-input-box[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]{width:calc(100% - 165px)}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-input-box[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:40px;border-radius:3px;border:1px solid #dce1ef;background-color:#fff}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-input-box[_ngcontent-%COMP%]   .search-bar[_ngcontent-%COMP%]   button.send-btn[_ngcontent-%COMP%]{width:30px;height:30px;position:absolute;top:50%;margin-top:-15px;border:0;right:15px;cursor:pointer;z-index:1}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-input-box[_ngcontent-%COMP%]   .attachment-col[_ngcontent-%COMP%]{width:40px}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]   .message-input-box[_ngcontent-%COMP%]   .attachment-col[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:40px}@media screen and (max-width:1024px){.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]{width:calc(100% - 293px)}}@media screen and (max-width:576px){.message-list-wrapper[_ngcontent-%COMP%]{width:100%}.message-list-wrapper.hide[_ngcontent-%COMP%]{display:none}.message-dashboard[_ngcontent-%COMP%]{margin-top:0}.message-dashboard[_ngcontent-%COMP%]   .user-message-box[_ngcontent-%COMP%]{position:fixed;top:0;left:0;height:100vh;width:100%;background:#fff;z-index:99999;margin:0;display:none;border:0}.message-dashboard[_ngcontent-%COMP%]   .message-list-wrapper.hide[_ngcontent-%COMP%] + .user-message-box[_ngcontent-%COMP%]{display:block}}.media-card[_ngcontent-%COMP%]{width:255px;max-width:100%;border-radius:6px;border:1px solid #dce1ef;margin-bottom:30px}.media-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;font-weight:600;margin:0;padding:10px 15px}.media-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]{width:100%;height:150px}.media-card[_ngcontent-%COMP%]   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;-o-object-fit:cover;object-fit:cover}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:10px 15px 12px}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:14px;font-weight:500;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;margin-bottom:10px}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:13px;font-weight:300;text-overflow:ellipsis;overflow:hidden;white-space:nowrap;margin:0}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;flex-wrap:wrap;margin:5px 0;-webkit-box-pack:justify;justify-content:space-between}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .card-col[_ngcontent-%COMP%]{width:calc(50% - 10px);margin-bottom:8px}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .card-col[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:10px;color:#818181;font-weight:500;text-transform:uppercase}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-row[_ngcontent-%COMP%]   .card-col[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:11px;font-weight:500}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-btn[_ngcontent-%COMP%]{height:35px;border-radius:5px;line-height:35px;border:1px solid #5067eb;background-color:#fff;font-size:12px;color:#000;padding:0;width:100%}.media-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:none}"]],data:{}});function En(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,8,"div",[["class","message-dashboard"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,5,"app-message-list",[["class","message-list-wrapper"]],null,[[null,"messageEvent"],[null,"fetchData"],[null,"isListEmpty"]],(function(n,l,t){var e=!0,u=n.component;return"messageEvent"===l&&(e=!1!==u.onMessageEvent(t)&&e),"fetchData"===l&&(e=!1!==u.getMessageList(t)&&e),"isListEmpty"===l&&(e=!1!==u.isListEmpty(t)&&e),e}),H,U)),e.Qb(512,null,i.H,i.I,[e.w,e.x,e.o,e.K]),e.yb(3,278528,null,0,i.m,[i.H],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),e.Ob(4,{hide:0}),e.yb(5,245760,[[1,4]],0,B,[],{loading:[0,"loading"],fromSearch:[1,"fromSearch"],setMessageListData:[2,"setMessageListData"]},{messageEvent:"messageEvent",fetchData:"fetchData",isListEmpty:"isListEmpty"}),e.Nb(131072,i.b,[e.i]),(n()(),e.zb(7,0,null,null,1,"app-message-window",[["class","user-message-box"]],null,[[null,"messageEvent"]],(function(n,l,t){var e=!0;return"messageEvent"===l&&(e=!1!==n.component.onMessageEvent(t)&&e),e}),kn,un)),e.yb(8,245760,null,0,en,[g.a,M.a,d.a,C.a],null,{messageEvent:"messageEvent"})],(function(n,l){var t,u=l.component,s=n(l,4,0,u.messageSection);n(l,3,0,"message-list-wrapper",s),n(l,5,0,u.loading,u.fromSearch,null==(t=e.Ub(l,5,2,e.Lb(l,6).transform(u.messageList$)))?null:t.data),n(l,8,0)}),null)}function Sn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,4,"div",[["class","table-listing awaited-quote-table"]],null,null,null,null,null)),(n()(),e.zb(1,0,null,null,3,"div",[["class","no-result"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,0,"img",[["alt","No results"],["src","../../../../../../assets/images/no-data.svg"]],null,null,null,null,null)),(n()(),e.zb(3,0,null,null,1,"p",[["class","mt-5"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Sorry! No messages found :("]))],null,null)}function Tn(n){return e.Vb(0,[e.Rb(402653184,1,{messageListComponent:0}),(n()(),e.zb(1,0,null,null,5,"div",[["class","message-container"]],null,null,null,null,null)),(n()(),e.zb(2,0,null,null,2,"div",[["class","title-with-button"]],null,null,null,null,null)),(n()(),e.zb(3,0,null,null,1,"h2",[["class","page-title"]],null,null,null,null,null)),(n()(),e.Tb(-1,null,["Messages"])),(n()(),e.pb(16777216,null,null,1,null,En)),e.yb(6,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(16777216,null,null,1,null,Sn)),e.yb(8,16384,null,0,i.o,[e.W,e.S],{ngIf:[0,"ngIf"]},null)],(function(n,l){var t=l.component;n(l,6,0,!t.isMessageListEmpty),n(l,8,0,!t.loading&&t.isMessageListEmpty)}),null)}function Dn(n){return e.Vb(0,[(n()(),e.zb(0,0,null,null,1,"app-message",[],null,null,null,Tn,$n)),e.yb(1,114688,null,0,Ln,[g.a,M.a,C.a],null,null)],(function(n,l){n(l,1,0)}),null)}var An=e.vb("app-message",Ln,Dn,{},{},[]),Vn=t("KeVp"),Rn=t("lwos"),Nn=t("eKxT"),jn={expectedRole:[b.a.Role.PLANNER,b.a.Role.VENDOR,b.a.Role.ADMIN]},qn=function(){return function(){}}(),Bn=t("Takh"),Un=t("abAu"),Wn=function(){return function(){}}(),Fn=t("1VIQ"),Hn=t("5fNH"),Gn=t("BGMM"),Kn=t("o5oa");t.d(l,"MessageModuleNgFactory",(function(){return Jn}));var Jn=e.wb(u,[],(function(n){return e.Ib([e.Jb(512,e.l,e.hb,[[8,[s.a,An]],[3,e.l],e.C]),e.Jb(4608,i.q,i.p,[e.y,[2,i.M]]),e.Jb(4608,D.A,D.A,[]),e.Jb(4608,D.f,D.f,[]),e.Jb(4608,g.a,g.a,[Vn.a,Rn.a,G.o]),e.Jb(1073742336,i.c,i.c,[]),e.Jb(1073742336,G.s,G.s,[[2,G.x],[2,G.o]]),e.Jb(1073742336,qn,qn,[]),e.Jb(1073742336,D.z,D.z,[]),e.Jb(1073742336,D.l,D.l,[]),e.Jb(1073742336,D.x,D.x,[]),e.Jb(1073742336,Bn.a,Bn.a,[]),e.Jb(1073742336,Un.a,Un.a,[]),e.Jb(1073742336,Wn,Wn,[]),e.Jb(1073742336,Fn.a,Fn.a,[]),e.Jb(1073742336,Hn.a,Hn.a,[]),e.Jb(1073742336,Gn.a,Gn.a,[]),e.Jb(1073742336,Kn.a,Kn.a,[]),e.Jb(1073742336,u,u,[]),e.Jb(1024,G.m,(function(){return[[{path:"",component:Ln,canLoad:[Nn.a],data:jn}]]}),[])])}))},"1VIQ":function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));var e=function(){return function(){}}()},"4ik+":function(n,l,t){var e=t("mrSG").__extends,u=t("FWf1");l.filter=function(n,l){return function(t){return t.lift(new s(n,l))}};var s=function(){function n(n,l){this.predicate=n,this.thisArg=l}return n.prototype.call=function(n,l){return l.subscribe(new o(n,this.predicate,this.thisArg))},n}(),o=function(n){function l(l,t,e){var u=n.call(this,l)||this;return u.predicate=t,u.thisArg=e,u.count=0,u}return e(l,n),l.prototype._next=function(n){var l;try{l=this.predicate.call(this.thisArg,n,this.count++)}catch(t){return void this.destination.error(t)}l&&this.destination.next(n)},l}(u.Subscriber)},"5fNH":function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));var e=function(){return function(){}}()},"6uCJ":function(n,l,t){"use strict";t.d(l,"a",(function(){return s}));var e=t("mrSG"),u=t("CcnG"),s=function(){function n(n){this.host=n,this.options={root:null},this.isReverse=!0,this.scrolled=new u.q}return n.prototype.ngOnInit=function(){var n=this,l=e.__assign({root:null,threshold:.8},this.options);this.observer=new IntersectionObserver((function(l){return e.__read(l,1)[0].isIntersecting&&n.scrolled.emit()}),l),this.observer.observe(this.anchor.nativeElement)},Object.defineProperty(n.prototype,"element",{get:function(){return this.host.nativeElement},enumerable:!0,configurable:!0}),n.prototype.ngOnDestroy=function(){this.observer&&this.observer.disconnect()},n}()},"B/hR":function(n,l,t){var e=t("mrSG").__extends,u=t("FWf1");l.distinctUntilChanged=function(n,l){return function(t){return t.lift(new s(n,l))}};var s=function(){function n(n,l){this.compare=n,this.keySelector=l}return n.prototype.call=function(n,l){return l.subscribe(new o(n,this.compare,this.keySelector))},n}(),o=function(n){function l(l,t,e){var u=n.call(this,l)||this;return u.keySelector=e,u.hasKey=!1,"function"==typeof t&&(u.compare=t),u}return e(l,n),l.prototype.compare=function(n,l){return n===l},l.prototype._next=function(n){var l;try{var t=this.keySelector;l=t?t(n):n}catch(u){return this.destination.error(u)}var e=!1;if(this.hasKey)try{e=(0,this.compare)(this.key,l)}catch(u){return this.destination.error(u)}else this.hasKey=!0;e||(this.key=l,this.destination.next(n))},l}(u.Subscriber)},BGMM:function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));var e=function(){return function(){}}()},D7vW:function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));var e=function(){function n(){}return n.prototype.transform=function(n){for(var l=[],t=1;t<arguments.length;t++)l[t-1]=arguments[t];return n?n.slice().reverse():[]},n}()},Dxa7:function(n,l,t){var e=t("mrSG").__extends,u=t("FWf1"),s=t("IKal"),o=t("aJGj");l.take=function(n){return function(l){return 0===n?o.empty():l.lift(new i(n))}};var i=function(){function n(n){if(this.total=n,this.total<0)throw new s.ArgumentOutOfRangeError}return n.prototype.call=function(n,l){return l.subscribe(new a(n,this.total))},n}(),a=function(n){function l(l,t){var e=n.call(this,l)||this;return e.total=t,e.count=0,e}return e(l,n),l.prototype._next=function(n){var l=this.total,t=++this.count;t<=l&&(this.destination.next(n),t===l&&(this.destination.complete(),this.unsubscribe()))},l}(u.Subscriber)},IKal:function(n,l,t){"use strict";function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}e.prototype=Object.create(Error.prototype),l.ArgumentOutOfRangeError=e},Takh:function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));var e=function(){return function(){}}()},VVrF:function(n,l,t){"use strict";t.d(l,"a",(function(){return u}));var e=t("wd/R"),u=function(){function n(){}return n.prototype.transform=function(n){return n?e(n).format("MMM DD, YYYY | hh:mm A"):"-"},n}()},abAu:function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));var e=function(){return function(){}}()},borg:function(n,l,t){"use strict";t.d(l,"a",(function(){return u})),t.d(l,"b",(function(){return s}));var e=t("CcnG"),u=(t("6uCJ"),e.xb({encapsulation:2,styles:[],data:{}}));function s(n){return e.Vb(0,[e.Rb(402653184,1,{anchor:0}),e.Kb(null,0),(n()(),e.zb(2,0,[[1,0],["anchor",1]],null,0,"div",[],null,null,null,null,null))],null,null)}},dMDw:function(n,l,t){var e=t("mrSG").__extends,u=t("FWf1"),s=t("1pIY");l.debounceTime=function(n,l){return void 0===l&&(l=s.async),function(t){return t.lift(new o(n,l))}};var o=function(){function n(n,l){this.dueTime=n,this.scheduler=l}return n.prototype.call=function(n,l){return l.subscribe(new i(n,this.dueTime,this.scheduler))},n}(),i=function(n){function l(l,t,e){var u=n.call(this,l)||this;return u.dueTime=t,u.scheduler=e,u.debouncedSubscription=null,u.lastValue=null,u.hasValue=!1,u}return e(l,n),l.prototype._next=function(n){this.clearDebounce(),this.lastValue=n,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(a,this.dueTime,this))},l.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},l.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var n=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(n)}},l.prototype.clearDebounce=function(){var n=this.debouncedSubscription;null!==n&&(this.remove(n),n.unsubscribe(),this.debouncedSubscription=null)},l}(u.Subscriber);function a(n){n.debouncedNext()}},o5oa:function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));var e=function(){return function(){}}()},pbW5:function(n,l,t){"use strict";t.d(l,"a",(function(){return a})),t("KeVp");var e=t("HcwC"),u=t("q3Kh"),s=(t("lwos"),t("7RJT")),o=t("vLqr"),i=t("rNzc"),a=function(){function n(n,l,t){this.request=n,this.loader=l,this.router=t,this.activeChat=new s.BehaviorSubject(null),this.recentChatData=new s.BehaviorSubject(null)}return n.prototype.sendMessage=function(n){return this.request.post(e.a.ENDPOINTS.message,n).pipe(Object(u.map)((function(n){return n})))},n.prototype.getMessageList=function(n,l){return this.request.get(l?e.a.ENDPOINTS.adminMessages:e.a.ENDPOINTS.message,n).pipe(Object(u.map)((function(n){return n})))},n.prototype.getMessageById=function(n,l,t){return this.request.get((t?e.a.ENDPOINTS.adminMessages:e.a.ENDPOINTS.message)+"/"+n,l).pipe(Object(u.map)((function(n){return n})))},n.prototype.getActiveChat=function(){return this.activeChat},n.prototype.setActiveChatId=function(n){this.activeChat.next(n)},n.prototype.setRecentMessage=function(n){this.recentChatData.next(n)},n.prototype.getRecentMessage=function(){return this.recentChatData},n.prototype.sendMessageAndNavigate=function(n,l){var t=this,s=l?e.a.APPLICATION_ROUTES.vendor.messages:e.a.APPLICATION_ROUTES.planner.messages;return this.loader.start(),this.sendMessage(n).pipe(Object(u.map)((function(n){return t.loader.stop(),t.router.navigate([s]),n})),Object(i.catchError)((function(n){return t.loader.stop(),Object(o.throwError)(n)})))},n.prototype.sendMediaMessage=function(n){var l=new FormData;return Object.keys(n).forEach((function(t){return l.append(t,n[t])})),this.request.post(e.a.ENDPOINTS.sendMediaMessage,l,!0).pipe(Object(u.map)((function(n){return n})))},n}()},szyW:function(n,l,t){"use strict";t.d(l,"a",(function(){return e}));var e=function(){function n(){}return n.prototype.transform=function(n){return n?n.firstName.charAt(0).toUpperCase()+n.firstName.slice(1)+"\n        "+n.lastName.charAt(0).toUpperCase()+".":""},n}()},wXHb:function(n,l,t){"use strict";t.d(l,"a",(function(){return u}));var e=t("HcwC"),u=function(){function n(n){this.el=n}return n.prototype.onError=function(){this.el.nativeElement.src=e.a.DEFAULT_IMAGE},n.prototype.ngAfterViewInit=function(){this.el.nativeElement.src||(this.el.nativeElement.src=e.a.DEFAULT_IMAGE)},n}()}}]);